<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=Edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>移动收单开放平台 | 开发者中心-苹果SDK</title>
		<link rel="stylesheet" href="css/bootstrap.css">
		<link rel="stylesheet" href="css/bootstrap-responsive.css">
		<link rel="stylesheet" href="css/iconfont.css">
		<link rel="stylesheet" href="css/styles.css">
		<script src="js/respond.js"></script>
		<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
			      <script src="//cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
			      <script src="//cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
			    <![endif]-->
		<style>
		body {
			position: relative;
		}
		
		.navbar-inverse .navbar-inner {
			border-radius: 0;
		}
		
		/*.nav-bg {
			background-color: rgba(1, 112, 227, 1); /*导航背景默认颜色－透明
			box-shadow: none;
		}*/
		</style>
	</head>
	<body>
	<div id="top" ></div>
	<div class="container marginb100 paddingt70">
		<div class="row">
			<div id="pa-left-nav" class="span3">
				<ul class="sidebar-menu">
					<li>
						<a href="#userMeun" class="nav-header menu-first collapsed borderb-ddd" data-toggle="collapse"> 
							<span class="iconfont">&#xe60e;</span>
							文档说明 
							<span class="iconfont pull-right" style="position: relative;"></span>
						</a>
						<ul id="userMeun" class="nav nav-list collapse in menu-second">
							<li id="pa-left1-1" class="active"><a href="#reader" data-toggle="tab">阅读对象</a></li>
							<li id="pa-left1-2"><a href="#copyright" data-toggle="tab">版本说明</a></li>
						</ul>
					</li>
					<li>
						<a href="#r-work" class="nav-header menu-first collapsed borderb-ddd" data-toggle="collapse"> 
							<span class="iconfont">&#xe60e;</span>
							机构接入准备工作 
							<span class="iconfont pull-right" style="position: relative;"></span>
						</a>
						<ul id="r-work" class="nav nav-list collapse menu-second">
							<li id="pa-left2-1"><a href="#p-work" data-toggle="tab">准备工作</a></li>
							<li id="pa-left2-2"><a href="#p-noun" data-toggle="tab">专有名词解释</a></li>
							<li id="pa-left2-3"><a href="#t-index" data-toggle="tab">民生收单网关地址</a></li>
							<li id="pa-left2-4"><a href="#w-flow" data-toggle="tab">SDK业务流程</a></li>
							<!--<li id="pa-left2-5"><a href="#e-parameter" data-toggle="tab">生产环境参数</a></li>-->
						</ul>
					</li>
					<li>
						<a href="#weixin" class="nav-header menu-first collapsed borderb-ddd" data-toggle="collapse"> 
							<span class="iconfont">&#xe60e;</span>
							IOS APP开发步骤
							<span class="iconfont pull-right" style="position: relative;"></span>
						</a>
						<ul id="weixin" class="nav nav-list collapse menu-second">
							<li id="pa-left3-1"><a href="#an-contents" data-toggle="tab">目录结构</a></li>
							<li id="pa-left3-2"><a href="#an-file" data-toggle="tab">配置文件</a></li>
							<li id="pa-left3-3"><a href="#an-steps" data-toggle="tab">添加sdk步骤说明</a></li>
							<li id="pa-left3-4"><a href="#an-common" data-toggle="tab">接口调用说明</a></li>
						</ul>
					</li>
					
					<!--<li><a href="#rule"
						class="nav-header menu-first collapsed borderb-ddd"
						data-toggle="collapse"> <span class="iconfont">&#xe60e;</span>
							接口规则 <span class="iconfont pull-right"></span>
					</a>
						<ul id="rule" class="nav nav-list collapse menu-second">
							<li id="pa-left5-1"><a href="#x-rule" data-toggle="tab">协议规则</a></li>
						</ul>
					</li>-->
					
					<li>
						<a href="#API" class="nav-header menu-first collapsed borderb-ddd" data-toggle="collapse"> 
							<span class="iconfont">&#xe60e;</span>
							API列表 
							<span class="iconfont pull-right" style="position: relative;"></span>
						</a>
						<ul id="API" class="nav nav-list collapse menu-second">
							<li id="pa-left6-1"><a href="#API-1" data-toggle="tab">APP配置文件字段</a></li>
							<li id="pa-left6-2"><a href="#API-2" data-toggle="tab">APP接口参数字段</a></li>
							<li id="pa-left6-3"><a href="#API-3" data-toggle="tab">APP结果回调字段</a></li>
							<li id="pa-left6-4"><a href="#API-4" data-toggle="tab">APP打印功能接口参数字段</a></li>
							<li id="pa-left6-5"><a href="#API-5" data-toggle="tab">MPOS固件版本</a></li>
							<li id="pa-left6-6"><a href="#API-6" data-toggle="tab">查余成功结果回调字段</a></li>
						</ul>
					</li>
				</ul>
			</div>
			<div id="pa-right" class="span9" data-spy="scroll" data-target=".sidebar-menu">
				<div class="tab-content border-ddd">
					<div class="tab-pane active" id="reader">
						<div class="content-sct">
							<div class="func-discript">
								<h2 class="sct-tit">阅读对象</h2>
								<div>
									<p class="lineh22">民生银行为合作的移动收单商户提供了SDK接入的方式，本文档主要介绍合作机构的开发者如何通过集成支付SDK来完成移动收单功能，该文档主要面向机构Android App和iOS App的开发人员。</p>
								</div>
							</div>
						</div>
					</div>
					<div class="tab-pane" id="copyright">
						<div class="content-sct">
							<div class="func-discript">
								<div>
									<h2 class="sct-tit">版本说明</h2>
								</div>
								<div>
									<table class="table table-bordered">
										<tr>
											<td>当前版本</td>
											<td>V1.0</td>
											<td>版本操作</td>
											<td>赵琦 </td>
										</tr>
										<!--<tr>
											<td>版本更新</td>
											<td>V1.1.3</td>
											<td>版本操作</td>
											<td>夏浩波</td>
										</tr>
										<tr>
											<td>修改日期</td>
											<td>2016.10.20</td>
											<td>技术支持</td>
											<td>微信：18235417122</td>
										</tr>
										<tr>
											<td colspan="4">版本更新记录<br>
												1. 更正退款交易响应字段及查询响应字段<br>
												2. 修改退款响应字段状态R的说明<br>
												3. 修改交易明细单下载接入说明<br>
												4. 修改文档对异步通知报文的说明<br>
												5. 修改异步通知的接入说明<br>
											</td>
										</tr>-->
									</table>
								</div>
							</div>
						</div>
					</div>
					<div class="tab-pane" id="p-work">
						<div class="content-sct">
							<div class="andr-sct">
								<h2 class="sct-tit">准备工作</h2>
								<p class="lineh22">机构在与民生银行完成线下协议签订后，由总行乐收银商务平台管理员在乐收银商务平台开立机构平台号，平台号唯一，机构真实进行交易的商户须在民生乐收银商务平台开通商户，开通商户后，会生成民生银行商户号，民生会为每一个机构平台发放用于订单加密加签和解密验签的的通信证书。证书由商户后台保存，用于完成与民生银行之间数据加密解密工作。</p>
								<p class="lineh22">收单SDK开发需要与商户后台开发同时进行，SDK接入流程如下：</p>
								<p class="lineh22">1、商户后台开发：根据SDK商户后台开发指导，在商户后台集成民生通信证书，根据不同的功能API字段完成相关功能的请求字段签名、加密工作。</p>
								<p class="lineh22">2、商户APP集成SDK：在商户原有APP基础上集成民生移动收单SDK，根据本指导，完成SDK各模块的集成开发工作。</p>
								<p class="lineh22">3、商户APP调用SDK发起收款等功能测试工作：在APP配置文件中填写UAT测试环境地址，完成各模块的联调工作。</p>
								<p class="lineh22">4、商户APP上线验收工作：在确保测试环境联调无误后，将APP配置文件中UAT环境参数改为生产环境参数，进行最后的生产环境下调试验证工作。</p>
							</div>
						</div>
					</div>
					<div class="tab-pane" id="p-noun">
						<div class="content-sct">
							<div class="andr-sct">
								<h2 class="sct-tit">专有名词解释</h2>
								<table class="table table-bordered">
									<thead>
										<tr>
											<th>名词</th>
											<th>名词解释</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td>通用接口</td>
											<td>通用接口代表Android、iOS平台均可以通过调用该接口完成相应的收款功能。通过连接MPOS可以完成账单打印、获取设备信息、查询余额等功能</td>
										</tr>
										<tr>
											<td>智能POS接口</td>
											<td>Android系统通过调用智能POS接口完成对应的查询余额、付款、获取终端对应参数的功能。</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
					<div class="tab-pane" id="w-flow">
						<div class="content-sct">
							<div class="andr-sct">
								<h2 class="sct-tit">SDK业务流程</h2>
								<h3>
									<span class="iconfont">&#xe60f;</span>接入流程图
								</h3>
								<img src="img/SDK1.png">
								<p class="lineh22">商户系统集成SDK后下单主要交互说明：</p>
								<p class="lineh22">步骤1：在商户APP中选择对应的服务或商品，发起下单申请给后台；</p>
								<p class="lineh22">步骤2：商户后台将订单信息用本地通信密钥签名并加密，将密文传至SDK；</p>
								<p class="lineh22">步骤3：收单SDK将加密订单信息发送至民生银行收单网关；</p>
								<p class="lineh22">步骤4：收单SDK会发起和民生银行建立安全通道；</p>
								<p class="lineh22">步骤5：银行端将解密后的订单信息在安全通道上返回；</p>
								<p class="lineh22">步骤6：收单SDK发起下单请求；</p>
								<p class="lineh22">步骤7：民生系统完成订单校验并完成下单支付操作；</p>
								<p class="lineh22">步骤8：收单SDK发起支付查询结果。</p>
								<p class="lineh22">步骤9：收单SDK收到支付结果后在商户App端显示支付结果。</p>
								<p class="lineh22">步骤10：异步通知商户后台支付结果。</p>
							</div>
						</div>
					</div>
					<div class="tab-pane" id="t-index">
						<div class="content-sct">
							<div class="andr-sct">
								<h2 class="sct-tit">民生收单网关地址</h2>
								  <h5>民生收单网关地址</h5>
									<h5 class="word-break">
										测试环境：<a href="http://111.205.207.103/mobilePlatform"
											class="adress">http://111.205.207.103/mobilePlatform</a>
									</h5>
									<h5 class="word-break">
										生产环境: <a href="http://epay.cmbc.com.cn/appweb"
											class="adress">http://epay.cmbc.com.cn/appweb</a>
									</h5>
							</div>
						</div>
					</div>
					<!--<div class="tab-pane" id="e-parameter">
						<div class="content-sct">
							<div class="andr-sct">
								<h2 class="sct-tit">生产环境参数</h2>
								<div>
									<h5>民生支付网关地址</h5>
									<h5 class="word-break">
										测试环境：<a href="http://111.205.207.103/mobilePlatform"
											class="adress">http://111.205.207.103/mobilePlatform</a>
									</h5>
									<h5 class="word-break">
										生产环境: <a href="http://epay.cmbc.com.cn/appweb"
											class="adress">http://epay.cmbc.com.cn/appweb</a>
									</h5>
								</div>
							</div>
						</div>
					</div>-->
					<div class="tab-pane" id="an-contents">
						<div class="content-sct">
							<div class="andr-sct">
								<h2 class="sct-tit">目录结构</h2>
									<p class="lineh22 ">苹果支付插件包含文件如下：</p>
									<img src="img/iOS-1.png"> 
							</div>
						</div>
					</div>
					<div class="tab-pane" id="an-file">
						<div class="content-sct">
							<div class="andr-sct">
								<h2 class="sct-tit">配置文件</h2>
								<p class="lineh22 ">配置文件server.plist的详细字段说明，请见API列表—APP配置文件字段</p>
							</div>
						</div>
					</div>
					<div class="tab-pane" id="an-steps">
						<div class="content-sct">
							<div class="andr-sct">
								<h2 class="sct-tit">添加SDK步骤说明</h2>
							  <p class="lineh22">将CMBCNetPayment 文件下的所有文件拖入到工程中，添加依赖框架 AVFoundation.famework , SystemConfiguration.framework , MediaPlayer.framework , CoreTelephony.famework；添加完库后需要在Xocde的Build Settings 下 Other Linker Flages 里面加入-ObjC标志,因为工程中使用了Objective-C的重要特性：类别（Category）有关，主要作用是将静态库文件中所有的和对象有关的文件加载进来。</p>
								<img src="img/iOS-1.1.png">
								<p class="lineh22">（图1.1）添加AVFoundation库</p>
								<img src="img/iOS-1.2.png">
								<p class="lineh22">（图1.2）添加SystemConfiguration库</p>
								<img src="img/iOS-1.3.png">
								<p class="lineh22">(图1.3)在Build Settings的Other Linker Flags 下添加-ObjC和-lstdc++</p>
								<img src="img/iOS-1.4.png">
								<p class="lineh22">(图1.4)在Build Settings的Other Linker Flags 下添加-ObjC</p>
								<p class="lineh22">2、在Info.plist文件中添加如下配置：</p>
								<p class="lineh22 word-break">（1）NSLocationAlwaysUsageDescription</p>
								<p class="lineh22 word-break">（2）NSLocationWhenInUseUsageDescription</p>
								<img src="img/IOS-2.png">
								<p class="lineh22">根据需求,SDK集成了移动应用统计分析服务,该服务是一个能够采集,存储和分析移动应用数据的通用服务,因此集成SDK前需要做如下配置:</p>
								<p class="lineh22">在 AppDelegate.h 中添加,#import "UMSAgent.h"。在 AppDelegate.m 中的 didFinishLaunchingWithOptions 函数添加如下函数调用: </p>
								<pre>
-(BOOL)application:(UIApplication*)application didFinishLaunchingWithOptions:(NSDictionary *) launchOptions 
{ [UMSAgent startWithAppKey:@"a406b0d026ca11e6a454b82a72db4265" 
ReportPolicy:REALTIME serverURL:@"https://gd.cmbc.com.cn"];
 }</pre>
							</div>
						</div>
					</div>
					<div class="tab-pane" id="an-common">
						<div class="content-sct">
							<div class="andr-sct">
								<h2 class="sct-tit">接口调用说明</h2>
								<h3>
									<span class="iconfont">&#xe60f;</span>收款
								</h3>
								<pre>
+ (UIViewController *)invokePaySDK: (NSString*)orderinfo TradeType:(int)tradeType Delegate:(id&lt;CMBCPluginDelegate&gt;)delegate;</pre>
								<h5>示例代码：</h5>
								<pre>
UIViewController *CMBC_sdk = [CMBC_iOS_SDK invokePaySDK:orderinfo TradeType:0 Delegate:self]; 
if (self.presentedViewController == nil)
{
 [self presentViewController:CMBC_sdk animated:YES completion:nil];
}</pre>
								<h5>回调参数见API列表—APP接口参数字段</h5>
								<h3>
									<span class="iconfont">&#xe60f;</span>收款结果回调 
								</h3>
								<p class="lineh22">需要服从CMBCPluginDelegate.h文件中的代理协议<CMBCPluginDelegate>,实现以下代理方法：</p>
                					<pre>
-(void)callBackErrorCode:(int)errorCode ErrorMessage:(NSString*)errorMessage  Remark:(NSString *)remark;</pre>
								<p class="lineh22">示例代码:</p>
								<pre>
- (void)callBackErrorCode:(int)errorCode ErrorMessage:(NSString *)errorMessage Remark:(NSString *)remark
{
   NSLog(@"%@",remark);
}</pre>
								<h5>回调参数见API列表—APP结果回调字段</h5>
								<h3>
									<span class="iconfont">&#xe60f;</span>获取版本
								</h3>
								<p class="lineh22">功能描述：用于获取SDK版本信息。</p>
								<h5>调用代码示例如下：</h5>
								<pre>
SDKTrade sdkTrade = SDKTrade.getInstance();
//获取SDKTrade实例，调用sdkTrade.getVersion();
String version = SDKTrade.getInstance().getVersion();</pre>
								<h3>
									<span class="iconfont">&#xe60f;</span>获取蓝牙名和设备ID
								</h3>
								<p class="lineh22">功能描述：用于获取蓝牙名和设备ID（序列号）</p>
								<h5>调用代码示例如下：</h5>
								<pre>
SDKTrade.getInstance().startDeviceManager(getActivity(),new TradeListener() {
	@Override
	public void onResult(int errorCode, String errorMessage,
		String remark) {
	}
});</pre>
								<h5>回调参数见API列表—APP接口参数字段</h5>
								<h3>
									<span class="iconfont">&#xe60f;</span>获取当前已连接设备ID
								</h3>
								<p class="lineh22">功能描述：用于获取设备ID（序列号）</p>
								<h5>调用代码示例如下：</h5>
								<pre>
SDKTrade.getInstance().queryDeviceId(getActivity(), new TradeListener() {
	@Override
	public void onResult(int errorCode, String errorMessage, String remark) {
		
	}
});</pre>
								<h5>回调参数见API列表—APP接口参数字段</h5>
								<h3>
									<span class="iconfont">&#xe60f;</span>搜索并连接MPOS
								</h3>
								<pre>
+ (void)startDeviceManagerWithDelegate:(id&lt;CMBCPluginDelegate&gt;)delegate;</pre>
								<p class="lineh22">示例代码：</p>
								<pre>
[CMBC_iOS_SDK startDeviceManagerWithDelegate:self];</pre>
								<h3>
									<span class="iconfont">&#xe60f;</span>搜索并连接MPOS结果回调
								</h3>
								<p class="lineh22">需要服从CMBCPluginDelegate.h文件中的代理协议<CMBCPluginDelegate>,实现以下代理方法:</p>
								<pre>
-(void)callBackErrorCode:(int)errorCode ErrorMessage:(NSString*)errorMessage  Remark:(NSString *)remark;</pre>
								<p class="lineh22">示例代码:</p>
								<pre>
- (void)callBackErrorCode:(int)errorCode ErrorMessage:(NSString *)errorMessage Remark:(NSString *)remark
{
   NSLog(@"%@",remark);
}</pre>
								<h5>回调参数见API列表—APP结果回调字段</h5>
								<h3>
									<span class="iconfont">&#xe60f;</span>获取当前已连接设备ID
								</h3>
								<pre>
+ (void)queryDeviceId:(void (^)(NSString *errorCode,NSString *errorMessage,NSString *deviceId))deviceId;/</pre>
								<p>示例代码：</p>
								<pre>
[CMBC_iOS_SDK queryDeviceId:^(NSString *errCode,NSString*errMessage,NSString*deviceId) {
        UIAlertView *alert = [[UIAlertView alloc]initWithTitle:@"友情提示" message: [NSString stringWithFormat:@"%@,%@,%@",errCode,errMessage,deviceId]delegate:self cancelButtonTitle:@"确定" otherButtonTitles: nil];
        [alert show];
}];	</pre>
								<h5>回调参数见API列表—APP结果回调字段</h5>

								<h3>
									<span class="iconfont">&#xe60f;</span>余额查询
								</h3>
								<pre>
+ (UIViewController *)queryBalanceSuccess:(BalanceSuccessBlock)successBlock
fail:(BalanceFailBlock)failBlock;</pre>
								<p class="lineh22">示例代码：</p>
								<pre>
UIViewController *CMBC_sdk = [CMBC_iOS_SDK  queryBalanceSuccess:^(NSDictionary *dic) {
     } fail:^(int code, NSString *processMsg) {
}];
 [self presentViewController:CMBC_sdk animated:NO completion:nil];</pre>
								<h5>回调参数见API列表—API结果回调字段APP配置文件字段</h5>
								<h3>
									<span class="iconfont">&#xe60f;</span>获取当前SDK的版本号
								</h3>
								<pre>
+ (NSString *)getVersion;</pre>
							<p class="lineh22">示例代码:</p>
							<pre>
NSString  *version = [CMBC_iOS_SDK getVersion];</pre>
							<h3>
								<span class="iconfont">&#xe60f;</span>动态设置SDK连接服务器地址
							</h3>
							<pre>
+ (void)setReceiveOrderServerUrl:(NSString *)url;</pre>
							<p class="lineh22">示例代码:</p>
							<pre>
[CMBC_iOS_SDK setReceiveOrderServerUrl:@"https://111.205.207.103/mobilePlatform"];</pre>
							<h5>获取收单所连的URL地址</h5>
							<p class="lineh22">如果调用+ (void)setReceiveOrderServerUrl:(NSString *)url后，读取的URL地址为所设置的地址，否则读取ServerUrl.plist文件中payOrderServerUrl对应的地址</p>
							<pre>
+ (NSString *)getReceiveOrderServerUrl;</pre>
							<p class="lineh22">示例代码:</p>
							<pre>
NSString  * receiveOrderServerUrl = [CMBC_iOS_SDK getVersion];</pre>
							<h5>设置支付ServerUrlURL地址</h5>
							<pre>
+ (void)setPayOrderServerUrl:(NSString *)url;</pre>
							<p class="lineh22">示例代码:</p>
							<pre>
[CMBC_iOS_SDK setPayOrderServerUrl:@"http://111.205.207.103:18180/pay"];	</pre>
							<h5>读取支付所连的URL地址</h5>
							<p class="lineh22">如果调用+ (void)setPayOrderServerUrl:(NSString *)url后，读取的URL地址为所设置的地址，否则读取ServerUrl.plist文件中payOrderServerUrl对应的地址</p>
							<pre>
+ (NSString *)getPayOrderServerUrl;</pre>
							<p class="lineh22">示例代码:</p>
							<pre>
NSString  * payOrderServerUrl = [CMBC_iOS_SDK getPayOrderServerUrl];	</pre>
						 </div>
						</div>
					</div>
					
					<div class="tab-pane" id="API-1">
						<div class="content-sct">
							<div class="andr-sct">
								<h2>
									APP配置文件字段
								</h2>
								<table class="table table-bordered word-break">
									<thead>
										<tr>
											<th>字段名</th>
											<th>字段说明</th>
											<th>内容示例</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td>https</td>
											<td>是否采用https</td>
											<td>请求方式 YES 是  NO 否（Android无需此字段）</td>
										</tr>
										<tr>
											<td>receiveOrderServerUrl </td>
											<td>收单服务器地址</td>
											<td>receiveOrderServerUrl = http://111.205.207.103 /mobilePlatform</td>
										</tr>
										<tr>
											<td>payOrderServerUrl</td>
											<td>支付服务器地址</td>
											<td>payOrderServerUrl = http://111.205.207.103 /pay</td>
										</tr>
										<tr>
											<td>publicKeyStr</td>
											<td>民生公钥</td>
											<td>publicKeyStr = </br>MIGfMA0GCSqGSIb3DQEB</br>AQUAA4GN</br>FkBXr2pxW75JhVQpejlnxd</td>
										</tr>
										<tr>
											<td>isSCAP</td>
											<td>验证服务器签名检测，为true是进行验签，false不验</td>
											<td>isSCAP =  true</td>
										</tr>
										<tr>
											<td>isGPS</td>
											<td>POS防移机，当为true的时候检测地理位置</td>
											<td>isGPS =  true</td>
										</tr>
										<tr>
											<td>isUpdateMpos</td>
											<td>是否检查Mpos固件更新，为true时检查，false时不检查固件更新</td>
											<td>isUpdateMpos = true</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
					<div class="tab-pane" id="API-2">
						<div class="content-sct">
							<div class="andr-sct">
								<h2>
									APP接口参数字段
								</h2>
								<h5>Andriod参数：</h5>
								<table class="table table-bordered">
									<thead>
										<tr>
											<th>字段名</th>
											<th>字段说明</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td>mContext</td>
											<td>安卓应用上下文</td>
										</tr>
										<tr>
											<td>orderinfo</td>
											<td>商户订单信息</td>
										</tr>
										<tr>
											<td>tradeType</td>
											<td>调用SDK标识：</br> 0,收单</br> 1,支付</td>
										</tr>
										<tr>
											<td>TradeListener</td>
											<td>交易状态回调</td>
										</tr>
									</tbody>
								</table>
								<h5>iOS参数：</h5>
								<table class="table table-bordered">
									<thead>
										<tr>
											<th>字段名</th>
											<th>字段说明</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td>orderinfo</td>
											<td>商户订单信息</td>
										</tr>
										<tr>
											<td>tradeType</td>
											<td>调用SDK标识：</br>0,收单</br>1,支付</td>
										</tr>
										<tr>
											<td>delegate</td>
											<td>交易状态回调</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
					<div class="tab-pane" id="API-3">
						<div class="content-sct">
							<div class="andr-sct">
								<h2>
									APP结果回调字段
								</h2>
								<h5>1、回调字段</h5>
								<table class="table table-bordered word-break">
									<thead>
										<tr>
											<th>字段名	</th>
											<th>字段说明</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td>errorCode</td>
											<td>交易状态：</br>0失败</br>1成功</td>
										</tr>
										<tr>
											<td>errorMessage</td>
											<td>错误提示信息</td>
										</tr>
										<tr>
											<td>remark</td>
											<td>字段说明如下</td>
										</tr>
									</tbody>
								</table>
								<h5>2、remark字段：</h5>
								<p class="lineh22">格式：key=value&amp;key=value&amp;key=value</p>
								<table class="table table-bordered word-break">
									<thead>
										<tr>
											<th>接口类型</th>
											<th>成功回调结果示例</th>
											<th>说明</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td>收款接口回调(仅刷卡有remark)</td>
											<td>amount=1&amp;transTime=20160314100705&amp;batchNo=000001&amp;voucherNo=000040&amp;refNo=607410113764</td>
											<td>金额：amoun</br> 
												   时间：transTime</br>
												   批次号：batchNo</br>
												   凭证号：voucherNo</br>
												   参考号：refNo
											</td>
										</tr>
										<tr>
											<td>获取当前已连接设备ID回到</td>
											<td>deviceId=123456789.</td>
											<td>返回设备ID（序列号），格式为： deviceId=设备ID</td>
										</tr>
										<tr>
											<td>搜索并连接POS回调</td>
											<td>bluetoothName=CMBC-A123456&amp;deviceId=123456789</td>
											<td>返回结果包含蓝牙名和设备ID（序列号），格式为：blueToothName=蓝牙名&amp;deviceId=设备ID</td>
										</tr>
									</tbody>
								</table>
								
							</div>
						</div>
					</div>
					<div class="tab-pane" id="API-4">
						<div class="content-sct">
							<div class="andr-sct">
								<h2>
									APP打印功能接口参数字段
								</h2>
								<p class="lineh22">注：POS打印每行384像素点，offset 加上文字大小或二维码大小（qrcodeSize）之和应该不小于0，不大于384.</p>
								<h5>表1：frontType打印字体</h5>
								<table class="table table-bordered">
									<thead>
										<tr>
											<th>取值	</th>
											<th>打印字体说明</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td>1</td>
											<td>16X8西文点阵占用8X16像素点</br>16X16汉字点阵占用16X16像素点</td>
										</tr>
										<tr>
											<td>2</td>
											<td>12X24西文点阵占用12X24像素点</br>24X24汉字点阵占用24X24像素点</td>
										</tr>
									</tbody>
								</table>
								<h5>表2：frontScale打印格式</h5>
								<table class="table table-bordered">
									<thead>
										<tr>
											<th>取值</th>
											<th>打印格式说明</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td>1</td>
											<td>1倍宽 1倍高</td>
										</tr>
										<tr>
											<td>2</td>
											<td>1倍宽 2倍高</td>
										</tr>
										<tr>
											<td>3</td>
											<td>1倍宽 3倍高</td>
										</tr>
										<tr>
											<td>4</td>
											<td>2倍宽 1倍高</td>
										</tr>
										<tr>
											<td>5</td>
											<td>2倍宽 2倍高</td>
										</tr>
										<tr>
											<td>6</td>
											<td>2倍宽 3倍高</td>
										</tr>
										<tr>
											<td>7</td>
											<td>3倍宽 1倍高</td>
										</tr>
										<tr>
											<td>8</td>
											<td>3倍宽 2倍高</td>
										</tr>
										<tr>
											<td>9</td>
											<td>3倍宽 3倍高</td>
										</tr>
									</tbody>
								</table>
								
							</div>
						</div>
					</div>
					<div class="tab-pane" id="API-5">
						<div class="content-sct">
							<div class="andr-sct">
								<h2> MPOS固件版本</h2>
								<table class="table table-bordered word-break ">
									<thead>
										<tr>
											<th>MPOS型号</th>
											<th>版本</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td>联迪M35</td>
											<td>CMBC-A-V20160619</td>
										</tr>
										<tr>
											<td>联迪M35F</td>
											<td>CMBC-F-V20160619</td>
										</tr>
										<tr>
											<td>联迪M36</td>
											<td>CMBC-B-V20160619</td>
										</tr>
										<tr>
											<td>MPOS型号</td>
											<td>版本</td>
										</tr>
										<tr>
											<td>新大陆</td>
											<td>CMBC-C-V20160616</td>
										</tr>
										<tr>
											<td>百福D180</td>
											<td>CMBC-E-V20160616</td>
										</tr>
									</tbody>
								</table>
								
							</div>
						</div>
					</div>
					<div class="tab-pane" id="API-6">
						<div class="content-sct">
							<div class="andr-sct">
								<h2>查余成功结果回调字段</h2>
								<table class="table table-bordered">
									<thead>
										<tr>
											<th>key</th>
											<th>类型</th>
											<th>说明</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td>amount</td>
											<td>String</td>
											<td>金额，单位为分</td>
										</tr>
										<tr>
											<td>issBankNo</td>
											<td>String</td>
											<td>发卡行号</td>
										</tr>
										<tr>
											<td>cardNo</td>
											<td>String</td>
											<td>银行卡号</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div id="foot"></div>
	<a class="iconfont to-top">&#xe625;</a>
	<script src="js/jquery-1.9.1.min.js"></script>
	<script src="js/bootstrap.js"></script>
	<script type="text/javascript">
		$(document).ready(function(){
			$("#top").load("nav.html");
			$("#foot").load("foot.html");
		});
		
		document.body.addEventListener('touchstart', function() {
		}); //保证手机端按钮或链接active效果

		$(".to-top").click(function() { //置顶按钮
			$('html,body').animate({
				scrollTop : '0'
			}, 80)
		})

		$(document).ready(function() { //控制文档左侧菜单不同二级菜单不同时active
			$('ul.menu-second > li').click(function(e) {
				e.preventDefault();
				$('ul.menu-second > li').removeClass('active');
				$(this).addClass('active');
			});
		});

		$('#pa-left1-1 a').click(function(e) { //点击左侧菜单显示相应内容
			e.preventDefault()
			$(this).tab('show')
		});
		$('#pa-left1-2 a').click(function(e) {
			e.preventDefault()
			$(this).tab('show')
		});
		$('#pa-left2-1 a').click(function(e) {
			e.preventDefault()
			$(this).tab('show')
		});
		$('#pa-left2-2 a').click(function(e) {
			e.preventDefault()
			$(this).tab('show')
		});
		$('#pa-left2-3 a').click(function(e) {
			e.preventDefault()
			$(this).tab('show')
		});
		$('#pa-left2-4 a').click(function(e) {
			e.preventDefault()
			$(this).tab('show')
		});
		$('#pa-left2-5 a').click(function(e) {
			e.preventDefault()
			$(this).tab('show')
		});
		$('#pa-left3-1 a').click(function(e) {
			e.preventDefault()
			$(this).tab('show')
		});
		$('#pa-left3-2 a').click(function(e) {
			e.preventDefault()
			$(this).tab('show')
		});
		$('#pa-left3-3 a').click(function(e) {
			e.preventDefault()
			$(this).tab('show')
		});
		$('#pa-left3-4 a').click(function(e) {
			e.preventDefault()
			$(this).tab('show')
		});
		$('#pa-left3-5 a').click(function(e) {
			e.preventDefault()
			$(this).tab('show')
		});
		$('#pa-left4-1 a').click(function(e) {
			e.preventDefault()
			$(this).tab('show')
		});
		$('#pa-left4-2 a').click(function(e) {
			e.preventDefault()
			$(this).tab('show')
		});
		$('#pa-left4-3 a').click(function(e) {
			e.preventDefault()
			$(this).tab('show')
		});
		$('#pa-left4-4 a').click(function(e) {
			e.preventDefault()
			$(this).tab('show')
		});
		$('#pa-left4-5 a').click(function(e) {
			e.preventDefault()
			$(this).tab('show')
		});
		$('#pa-left5-1 a').click(function(e) {
			e.preventDefault()
			$(this).tab('show')
		});
		$('#pa-left5-2 a').click(function(e) {
			e.preventDefault()
			$(this).tab('show')
		});
		$('#pa-left6-1 a').click(function(e) {
			e.preventDefault()
			$(this).tab('show')
		});
		$('#pa-left6-2 a').click(function(e) {
			e.preventDefault()
			$(this).tab('show')
		});
		$('#pa-left6-3 a').click(function(e) {
			e.preventDefault()
			$(this).tab('show')
		});
		$('#pa-left6-4 a').click(function(e) {
			e.preventDefault()
			$(this).tab('show')
		});
		$('#pa-left6-5 a').click(function(e) {
			e.preventDefault()
			$(this).tab('show')
		});
		$('#pa-left6-6 a').click(function(e) {
			e.preventDefault()
			$(this).tab('show')
		});
	</script>
</body>
</html>